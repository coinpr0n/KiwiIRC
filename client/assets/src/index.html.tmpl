<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<base target="_blank">

<title> KiwiIRC </title>

<link rel="shortcut icon" href="<%base_path%>/assets/img/favicon.ico">

<!-- <link rel="stylesheet" type="text/css" href="<%base_path%>/assets/css/style.css" /> -->
<link rel="stylesheet" type="text/css" href="<%base_path%>/assets/css/style-custom.css" />
<link rel="stylesheet" type="text/css" href="<%base_path%>/assets/css/font-awesome.min.css" />
<!--[if IE 7]>
<link rel="stylesheet" type="text/css" href="/kiwi/assets/css/font-awesome-ie7.css" />
<![endif]-->
</head>
<body>
    <div id="kiwi" class="theme_cli">
        <div class="toolbar">
            <div class="app_tools">
                <ul class="main">
                    <!-- <li class="settings"><i class="icon-cogs" title="Settings"></i></li> 
                    <li><a href="https://kiwiirc.com/" target="_blank"><img src="<%base_path%>/assets/img/ico.png" alt="KiwiIRC" title="KiwiIRC" /></a></li> -->
                    <style> 
                    #nav{list-style:none;font-weight:bold;margin:10px;float:left;z-index:9999;} 
                    #nav div{display:none;background:#333;list-style:none;position:absolute;z-index:9999;} 
                    #nav li{padding:0;margin:0;} 
                    #nav li:hover div{display:block;opacity:0.8;} 
                    #dropblk {font-weight:normal;font-size:14px;height:350px;width:200px;border-radius:20px;padding:4px;z-index:999999;} 
                    </style> 
                    <ul id="nav"> 
                        <li>Main Menu
                        <div id="dropblk">
                            <br/>
                            <ul style="text-align:right;margin-right:20px;">
                                <li class="channels"><i class="icon-comment" title="Channels"></i> Channels</li>
                                <br><br>
                                <a onclick="_kiwi.view.UserBox._kiwi.app.controlbox.processInput('/join #coinpr0n');" style="font-weight:bold;color:#eee;">#coinpr0n</a> - Main Channel
                                <br/>
                                <a onclick="_kiwi.view.UserBox._kiwi.app.controlbox.processInput('/join #coinpr0n-es');" style="font-weight:bold;color:#eee;">#coinpr0n-es</a> - Espa√±ol
                                <br/>
                                <a onclick="_kiwi.view.UserBox._kiwi.app.controlbox.processInput('/join #CVChat');" style="font-weight:bold;color:#eee;">#CVChat</a> - Fun &amp; Games
                                <br>
                                <li class="moreinfo"><i title="More Info"></i>&nbsp;</li> 
                                <br>
                                <li class="settings"><i class="icon-cogs" title="Settings"></i> UI Settings</li> 
                            </ul>
                        </div> 
                        </li>
                </ul>
            </div>

            <div class="tabs"></div>

            <div class="topic">
                <div contenteditable="true"></div>
            </div>

            <div class="status_message"></div>
        </div>

        <div class="memberlists_resize_handle"></div>

        <div class="panels">
            <div class="panel_container container1"></div>
        </div>

        <div class="memberlists disabled"></div>

        <div class="controlbox">
            <div class="input">
                <span class="nick"> </span>
                <div class="input_wrap"><textarea class="inp"></textarea></div>
                <div class="input_tools"></div>
            </div>
        </div>
    </div>






    <script type="text/html" id="tmpl_userbox">
        <div class="userbox">
            <a class="query"><i class="icon-comment"></i><%= message %></a>
            <input id="tiptext" type="text" size="10" style="border:1px solid #555;border-radius:8px;margin:5px;" placeholder="..tip satoshis.."/>
            <a class="tip"><i class="icon-user-md"></i><%= tip %></a>
            <a class="if_op op"><i class="icon-star"></i><%= op %></a>
            <a class="if_op deop"><i class="icon-star-empty"></i><%= de_op %></a>
            <a class="if_op voice"><i class="icon-volume-up"></i><%= voice %></a>
            <a class="if_op devoice"><i class="icon-volume-off"></i><%= de_voice %></a>
            <a class="if_op kick"><i class="icon-remove"></i><%= kick %></a>
            <a class="if_op ban"><i class="icon-ban-circle"></i><%= ban %></a>
            <a class="slap"><i class="icon-user-md"></i><%= slap %></a>
            <a class="info"><i class="icon-info-sign"></i><%= info %></a>
            Mah Bitch<br/><hr/>
            <a class="balance"><i class="icon-user-md"></i><%= balance %></a>
            <a class="setbitcoin"><i class="icon-user-md"></i><%= setbitcoin %></a>
            <a class="withdraw"><i class="icon-user-md"></i><%= withdraw %></a>
            coinpr0n<br/><hr/>
            <a class="ticker"><i class="icon-user-md"></i><%= ticker %></a>
            <a class="pollones"><i class="icon-user-md"></i>5 vs 1</a>
        </div>
    </script>

    <script type="text/html" id="tmpl_nickchange">
        <form class="nickchange">
            <label for="nickchange"><%= new_nick %>:</label> <input type="text" mozactionhint="done" autocomplete="off" spellcheck="false"/> <button><%= change %></button> <a class="cancel"><%= cancel %></a>
        </form>
    </script>

    <script type="text/html" id="tmpl_new_connection_info">
        <div style="">&nbsp;</div>
        <img width="500" style="opacity:0.8;margin:-20px 0 0 20px;" src="<%base_path%>/assets/img/logo.png">
    </script>

    <script type="text/html" id="tmpl_server_select">
        <div class="server_select">

            <div class="side_panel" style="position:absolute;top:0px;left:320px;">
                <div class="content" style="position:relative;width:300px;">
                </div>
            </div>

            <div class="server_details" style="position:relative;width:320px;">
                <div class="status" style="padding-top:30px;">&nbsp;</div>

                <form>
                    <div class="basic">
                        <table>
                            <tr class="nick">
                                <td><label for="server_select_nick"><%= nickname %></label></td>
                                <td><input type="text" class="nick" id="server_select_nick" style="outline:none;"></td>
                            </tr>

                            <tr class="have_pass">
                                <td colspan="2">
                                    <label for="server_select_show_pass"><%= have_password %></label> <input type="checkbox" id="server_select_show_pass" style="width:auto;" />
                                </td>
                            </tr>

                            <tr class="pass">
                                <td><label for="server_select_password"><%= password %></label></td>
                                <td><input type="password" class="password" id="server_select_password" style="outline:none;"></td>
                            </tr>

                            <tr class="channel" style="display:none;">
                                <td><label for="server_select_channel"><%= channel %></label></td>
                                <td>
                                    <div style="position:relative;">
                                        <input type="text" class="channel" id="server_select_channel">
                                        <i class="icon-key" title="<%= channel_key %>"></i>
                                    </div>
                                </td>
                            </tr>

                            <tr class="have_key">
                                <td colspan="2">
                                    <label for="server_select_show_channel_key"><%= require_key %></label> <input type="checkbox" id="server_select_show_channel_key" style="width:auto;" />
                                </td>
                            </tr>

                            <tr class="key">
                                <td><label for="server_select_channel_key"><%= key %></label></td>
                                <td><input type="password" class="channel_key" id="server_select_channel_key"></td>
                            </tr>

                            <tr class="start">
                                <td colspan="2"><button type="submit"><%= start %></button></td>
                            </tr>
                        </table>

                        <a href="" onclick="return false;" class="show_more"><%= server_network %> <i class="icon-caret-down"></i></a>
                    </div>


                    <div class="more">
                        <table>
                            <tr class="server">
                                <td><label for="server_select_server"><%= server %></label></td>
                                <td><input type="text" class="server" id="server_select_server"></td>
                            <tr>

                            <tr class="port">
                                <td><label for="server_select_port"><%= port %></label></td>
                                <td><input type="text" class="port" id="server_select_port"></td>
                            </tr>

                            <tr class="ssl">
                                <td><label for="server_select_ssl">SSL</label></td>
                                <td><input type="checkbox" class="ssl" id="server_select_ssl"></td>
                            </tr>
                        </table>
                    </div>
                </form>

    <div style="font-family:monospace;font-size:7px;opacity:0.5;text-align:right;padding:10px 20px 0 0;">
        <a href="https://kiwiirc.com/" target="_blank" style="color:rgba(50,100,50,1);text-decoration:none;">
            <h1><span>Powered by KiwiIRC</span> <img src="<%base_path%>/assets/img/ico.png" alt="KiwiIRC Logo" title="Kiwi IRC" width="16" /></h1>
        </a>
    </div>

            </div>
        </div>
    </script>

    <script type="text/html" id="tmpl_applet_settings">
        <div class="settings_container">
            <section>
                <h6>Theme</h6>
                <div class="control-group">
                    <div class="thumbnails">
                        <a class="thumbnail" data-setting="theme" data-value="relaxed" href="#">
                            <div class="thumbnail_wrapper"><div class="theme_color" style="background-color: #e7e7e7;"></div></div>
                            <div class="caption"><u>Relaxed</u></div>
                        </a>
                        <a class="thumbnail" data-setting="theme" data-value="mini" href="#">
                            <div class="thumbnail_wrapper"><div class="theme_color" style="background-color: #fff;"></div></div>
                            <div class="caption"><u>Mini</u></div>
                        </a>
                        <a class="thumbnail" data-setting="theme" data-value="cli" href="#">
                            <div class="thumbnail_wrapper"><div class="theme_color" style="background-color: #222;"></div></div>
                            <div class="caption"><u>CLI</u></div>
                        </a>
                        <a class="thumbnail" data-setting="theme" data-value="basic" href="#">
                            <div class="thumbnail_wrapper"><div class="theme_color" style="background-color: #e7e7e7;"></div></div>
                            <div class="caption"><u>Basic</u></div>
                        </a>
                    </div>
                </div>
            </section>

            <section>
                <h6>Channels</h6>
                <div class="control-group">
                    <div class="radio">
                        <label>
                            <input type="radio" name="channel_list_style" data-setting="channel_list_style" value="tabs">
                            <%= tabs %>
                        </label>
                    </div>
                    <div class="radio">
                        <label>
                            <input type="radio" name="channel_list_style" data-setting="channel_list_style" value="list">
                            <%= list %><small class="text-muted">(<%= large_amounts_of_chans %>)</small>
                        </label>
                    </div>
                </div>
            </section>

            <section>
                <h6>Chat window</h6>
                <div class="control-group">
                    <div class="checkbox">
                        <label>
                            <input data-setting="show_joins_parts" type="checkbox">
                            <%= join_part %>
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input data-setting="show_timestamps" type="checkbox">
                            <%= timestamps %>
                        </label>
                    </div>
                    <div class="checkbox">
                        <label>
                            <input data-setting="mute_sounds" type="checkbox">
                            <%= mute %>
                        </label>
                    </div>
                    <label>
                        <input data-setting="scrollback" class="input-small" type="text" size="4" pattern="\d*">
                        <span><%= scroll_history %></span>
                    </label>
                </div>
            </section>

            <section class="language">
                <h6>Language</h6>
                <div class="control-group">
                    <select data-setting="locale">
                        <% _.forEach(languages, function(lang) { %>
                            <option value="<%= lang.tag %>"><%= lang.language %></li>
                        <% }); %>
                    </select>
                    <br>
                    <small><%= locale_restart_needed %></small>
                </div>
            </section>

            <section class="protocol_handler">
                <h6><%= default_client %></h6>
                <div class="control-group">
                    <button class="register_protocol"><%= make_default %></button>
                    <br>
                    <small><%= default_note %></small>
                </div>
            </section>
        </div>
    </script>


    <script type="text/html" id="tmpl_channel_list">
        <div>
            <table style="margin:1em 2em;">
                <thead style="font-weight: bold;">
                    <tr>
                        <td><%= channel_name %></td>
                        <td><%= users %></td>
                        <td style="padding-left: 2em;"><%= topic %></td>
                    </tr>
                </thead>
                <tbody style="vertical-align: top;">
                </tbody>
            </table>
        </div>
    </script>


    <script type="text/html" id="tmpl_script_editor">
        <div style="height:100%;">
            <style>
                #kiwi .script_editor .se_toolbar { padding: 10px 20px; }
                #kiwi .script_editor .se_toolbar span.status { margin-left:2em; font-style:italic; }
                #kiwi .script_editor .se_toolbar button { height:30px; padding:0 1em; }
                #kiwi .script_editor .se_toolbar button i { font-size:1.2em; margin-left:3px; }
            </style>
            <div class="script_editor" style="height:100%; position:relative;">
                <div class="se_toolbar"><button class="btn_save"><%= save %><i class="icon-save"></i></button><span class="status"></span></div>
                <div class="editor" style="position:absolute;top:50px;bottom:0px;left:0px;right:0px;"></div>
            </div>
        </div>
    </script>


<script src="<%base_path%>/assets/libs/jquery-1.9.1.min.js"></script>
<script>
/* Script loader (https://github.com/ded/script.js) */
(function(a,b,c){typeof c["module"]!="undefined"&&c.module.exports?c.module.exports=b():typeof c["define"]!="undefined"&&c["define"]=="function"&&c.define.amd?define(a,b):c[a]=b()})("$script",function(){function p(a,b){for(var c=0,d=a.length;c<d;++c)if(!b(a[c]))return j;return 1}function q(a,b){p(a,function(a){return!b(a)})}function r(a,b,i){function o(a){return a.call?a():d[a]}function t(){if(!--n){d[m]=1,l&&l();for(var a in f)p(a.split("|"),o)&&!q(f[a],o)&&(f[a]=[])}}a=a[k]?a:[a];var j=b&&b.call,l=j?b:i,m=j?a.join(""):b,n=a.length;return setTimeout(function(){q(a,function(a){if(h[a])return m&&(e[m]=1),h[a]==2&&t();h[a]=1,m&&(e[m]=1),s(!c.test(a)&&g?g+a+".js":a,t)})},0),r}function s(c,d){var e=a.createElement("script"),f=j;e.onload=e.onerror=e[o]=function(){if(e[m]&&!/^c|loade/.test(e[m])||f)return;e.onload=e[o]=null,f=1,h[c]=2,d()},e.async=1,e.src=c,b.insertBefore(e,b.firstChild)}var a=document,b=a.getElementsByTagName("head")[0],c=/^https?:\/\//,d={},e={},f={},g,h={},i="string",j=!1,k="push",l="DOMContentLoaded",m="readyState",n="addEventListener",o="onreadystatechange";return!a[m]&&a[n]&&(a[n](l,function t(){a.removeEventListener(l,t,j),a[m]="complete"},j),a[m]="loading"),r.get=s,r.order=function(a,b,c){(function d(e){e=a.shift(),a.length?r(e,d):r(e,b,c)})()},r.path=function(a){g=a},r.ready=function(a,b,c){a=a[k]?a:[a];var e=[];return!q(a,function(a){d[a]||e[k](a)})&&p(a,function(a){return d[a]})?b():!function(a){f[a]=f[a]||[],f[a][k](b),c&&c(e)}(a.join("|")),r},r},this)


    // Avoid `console` errors in browsers that lack a console. (https://github.com/h5bp/html5-boilerplate)
    function normalizeConsole() {
        var method;
        var noop = function () {};
        var methods = [
            'assert', 'clear', 'count', 'debug', 'dir', 'dirxml', 'error',
            'exception', 'group', 'groupCollapsed', 'groupEnd', 'info', 'log',
            'markTimeline', 'profile', 'profileEnd', 'table', 'time', 'timeEnd',
            'timeStamp', 'trace', 'warn'
        ];
        var length = methods.length;
        var console = (window.console = window.console || {});

        while (length--) {
            method = methods[length];

            // Only stub undefined methods.
            if (!console[method]) {
                console[method] = noop;
            }
        }
    };

    function getQueryVariable(variable) {
        var query = window.location.search.substring(1);
        var vars = query.split('&');
        for (var i = 0; i < vars.length; i++) {
            var pair = vars[i].split('=');
            if (decodeURIComponent(pair[0]) == variable) {
                return decodeURIComponent(pair[1]);
            }
        }
    }

    window.onload = function () {
        var base_path = '<%base_path%>', // Entry path for the kiwi application
            scripts = [],
            opts = {
                container: $('#kiwi'),
                base_path: base_path,
                settings_path: base_path + '/assets/settings.json'
            };

        normalizeConsole();

        // Run after all dependancies have been loaded
        function startApp () {
            // Start the app
            kiwi.start(opts, function() {
                // Load any plugins
                if (opts.client_plugins && opts.client_plugins.length > 0) {
                    _.each(opts.client_plugins, function (plugin_url) {
                        kiwi.plugins.load(plugin_url);
                    });
                }
            });
        }


        // Load each script
        var cur_script = 0;
        function loadNextScript () {
            var to_load,
                base = base_path + '/assets/';

            // Start the kiwi app if all scripts have been loaded
            if (cur_script === scripts.length) {
                startApp();
                return;
            }

            if (typeof scripts[cur_script] === 'string') {
                to_load = base + scripts[cur_script];
            } else {
                to_load = [];
                for(var idx in scripts[cur_script]) {
                    to_load.push(base + scripts[cur_script][idx]);
                }
            }

            $script(to_load, loadNextScript);

            cur_script++;
        }

        // Load application settings
        $.getJSON(opts.settings_path, function (data) {
            scripts = scripts.concat(data.scripts);
            opts.server_settings = data.server_settings;
            opts.client_plugins = data.client_plugins;
            opts.translations = data.translations;
            opts.locale = data.locale;

            if (typeof data.kiwi_server !== 'undefined')
                opts.kiwi_server = data.kiwi_server;

            // Start loading scripts
            loadNextScript();
        });
    };
</script>
</body>
</html>
